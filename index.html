<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Task Calendar</title>
  <style>
    body{
      font-family: "Lucida Console", "Courier New", monospace;
      font-weight: bold;
      background-color:#d29afc;
    }
    .purchaseButton{
      font-family: "Lucida Console", "Courier New", monospace;
      font-weight: bold;
      background-color:#4f65f7;
      border: 2px solid white;
    }
    .pointsButton{
      font-family: "Lucida Console", "Courier New", monospace;
      font-weight: bold;
      background-color:#4f65f7;
      border: 2px solid white;
    }
    button{
      display: block;
    }
  </style>
</head>
<body>
  <h1>Calendar</h1>
  <iframe src="https://calendar.google.com/calendar/embed?height=600&wkst=1&ctz=America%2FNew_York&showPrint=0&showTitle=0&showCalendars=0&mode=WEEK&src=bWl0Y2gyMDA2MjAxOEBnbWFpbC5jb20&src=YWRkcmVzc2Jvb2sjY29udGFjdHNAZ3JvdXAudi5jYWxlbmRhci5nb29nbGUuY29t&src=ZW4udXNhI2hvbGlkYXlAZ3JvdXAudi5jYWxlbmRhci5nb29nbGUuY29t&color=%23039BE5&color=%2333B679&color=%230B8043" style="border:solid 1px #777" width="800" height="600" frameborder="0" scrolling="no"></iframe>
  <h1>Points</h1>
  <label for="task">Task Date:</label>
  <input type="text" id="task" name="task">
  <button class="pointsButton" onclick="text()">Add Points</button>
  <div class="points" id="pointsCounter">Points: 0</div>
  <h1>Shop</h1>
  <button class="purchaseButton" onclick="subtractPoints(2); alert("Nice choice! Go enjoy that sweet treat, you earned it!")">Sweet Treat: 2 Points</button>
  <button class="purchaseButton" onclick="subtractPoints(3)">Extra Hour of Sleep: 3 Points</button>
  <script>
    let points = 0;
    function addPoints(number){
      points += number;
      loadPoints();
    }
    function loadPoints(){
      const pointsCounter = document.getElementById("pointsCounter");
      pointsCounter.textContent = `Points: ${points}`;
    }
    function subtractPoints(number){
      if (points>=number){
        points -= number;
        loadPoints();
      } else{
        alert("Not enough points!");
      }
    }
    function text(){
      const now = new Date();
      const parsedInputDate = new Date(document.querySelector("#task").value);

      if (isNaN(parsedInputDate)) {
          alert("Invalid date format");
      }

      const timeDifference = parsedInputDate.getTime() - now.getTime();
      const daysDifference = Math.floor(timeDifference / (1000 * 60 * 60 * 24));

    if (typeof daysDifference === 'number') {
      addPoints(daysDifference);
    } else {
      alert(daysDifference);
    }
      } 
  </script>
</body>
